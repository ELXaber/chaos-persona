<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CAI-OS Live Demo â€” Therapist Agent</title>
  <script type="module">
    import init, { run_demo } from '/orchestrator.js'; // Assume JS-wrapped Python or direct
    // Simple JS demo of CAIOS intent parsing (no Python needed for basic)
    document.body.innerHTML += '<p>Loading CAI-OS v7.2 in-browser...</p>';
    // Embed WebContainer for full Python (Chrome/Firefox)
    const wc = await WebContainer.boot();
    await wc.mount({ 'orchestrator.py': { file: { contents: await (await fetch('/orchestrator.py')).text() } });
    const process = await wc.spawn('python', ['orchestrator.py', '--demo']);
    process.output.pipeTo(new WritableStream({ write(data) { document.body.innerHTML += `<pre>${data}</pre>`; } }));
  </script>
  <style> body { font-family: system-ui; max-width: 800px; margin: 2rem auto; } </style>
</head>
<body>
  <h1>CAI-OS Demo: Therapist Agent with Perfect Memory</h1>
  <p>Running orchestrator.py + CAIOS.txt in-browser (WebContainer). Test: "I'm feeling anxious today."</p>
  <div id="output"></div>
</body>
</html>
